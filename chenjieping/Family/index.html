<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Love forever!</title>
<link rel="shortcut icon" href="love.ico" type="image/x-icon" /> 
<link href="css/default.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/garden.js"></script>
<script type="text/javascript" src="js/functions.js"></script>
</head>
<body>
<div id="mainDiv">
	<div id="content">
		<div id="code">
		<span class="comments">/** Family.swift **/</span><br>
        <span class="space"><span class="comments">*Created by liuhanhao on 2021/07/03.</span></span><br>
        <span class="comments">*/</span></span><br>
    
				<span class="say">class Family: NSObject {</span><BR>
				<span class="say">&#12288 let members = "å¹³å§ã€ä¸¹å§ã€èŸ¹æ€»ã€å¤§å‚»ç»ƒã€å•Šé¸Ÿã€å•Šè™«ã€eå®ã€å£®æ€»ã€æ–‡ç§‹ã€æ´²ç¥ã€å•Šè‚¥ã€å¤§å²š"</span><BR>
				<span class="say">&#12288 var newMembers = "ç¨‹æ€»"</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288 let familyAttribute = [</span><BR>
				<span class="say">&#12288 &#12288        "æ¼‚äº®ç­‰çº§" : "ä¸–ç•Œä¸Šæœ€æ¼‚äº®å•²",</span><BR>
				<span class="say">&#12288 &#12288        "é“ä»”ç­‰çº§" : "ä¸–ç•Œä¸Šæœ€é“ä»”å•²",</span><BR>
				<span class="say">&#12288 &#12288        "å¤§å‚»ç­‰çº§" : "ä¸–ç•Œä¸Šæœ€å¤§å‚»å•² ğŸ˜¬ğŸ˜¬ğŸ˜",</span><BR>
				<span class="say">&#12288    ]</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288    func familySlogan() -> String {</span><BR>
				<span class="say">&#12288 &#12288        return "We are ä¼æœ¨ç´¯â˜»"</span><BR>
				<span class="say">&#12288    }</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288    func familyPetPhrase() -> String {</span><BR>
				<span class="say">&#12288 &#12288        return "å¤§å‚»"</span><BR>
				<span class="say">&#12288    }</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288    func familyHope() {</span><BR>
				<span class="say">&#12288 &#12288        while 1 {</span><BR>
				<span class="say">&#12288 &#12288 &#12288            print("play")</span><BR>
				<span class="say">&#12288 &#12288        }</span><BR>
				<span class="say">&#12288    }</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288    func addMembers(name:String, attribute:String, foollish:Bool) -> String {</span><BR>
				<span class="say">&#12288 &#12288        if foollish == true {</span><BR>
				<span class="say">&#12288 &#12288 &#12288            self.newMembers = self.newMembers + name</span><BR>
				<span class="say">&#12288 &#12288 &#12288            self.familyProbationPeriodMethods(name: name)</span><BR>
				<span class="say">&#12288 &#12288 &#12288            return "Very Welcome"</span><BR>
				<span class="say">&#12288 &#12288        }</span><BR>
				<span class="say">&#12288 &#12288        else if attribute == "å¸…" || attribute == "é“" {</span><BR>
				<span class="say">&#12288 &#12288 &#12288            self.newMembers = self.newMembers + name</span><BR>
				<span class="say">&#12288 &#12288 &#12288            self.familyProbationPeriodMethods(name: name)</span><BR>
				<span class="say">&#12288 &#12288 &#12288            return "Welcome"</span><BR>
				<span class="say">&#12288 &#12288        }</span><BR>
				<span class="say">&#12288 &#12288        else {</span><BR>
				<span class="say">&#12288 &#12288 &#12288            return "I'm sorry"</span><BR>
				<span class="say">&#12288 &#12288        }</span><BR>
				<span class="say">&#12288    }</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288    func familyProbationPeriodMethods(name:String) -> String {</span><BR>
				<span class="say">&#12288 &#12288        var foollish:Bool = false</span><BR>
				<span class="say">&#12288 &#12288        while foollish == false {</span><BR>
				<span class="say">&#12288 &#12288 &#12288            print("è¯•ç”¨æœŸ");</span><BR>
				<span class="say">            </span><BR>
				<span class="say">&#12288 &#12288 &#12288           if foollish == true {</span><BR>
				<span class="say">&#12288 &#12288 &#12288 &#12288               print("è½¬æ­£");</span><BR>
				<span class="say">&#12288 &#12288 &#12288 &#12288               self.members = self.members + name</span><BR>
				<span class="say">&#12288 &#12288 &#12288           }</span><BR>
				<span class="say">&#12288 &#12288        }</span><BR>
				<span class="say">&#12288    }</span><BR>
				<span class="say">    </span><BR>
				<span class="say">&#12288}</span><BR>
		
		</div>
		<div id="loveHeart">
			<canvas id="garden"></canvas>
			<div id="words">
				<div id="messages">
					å¥½æ­¹æ˜¯å¤§å­¦ç”Ÿï¼Œå°±ç”¨ä»£ç è¯´å§ã€‚
					<div id="elapseClock"></div>
				</div>
				<div id="loveu">
					jj fly towã€‚<br/> 
					<div class="signature">We are ä¼æœ¨ç´¯â˜»</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div style="display:none">
	<!-- <audio id="bgmusic" autoplay preload loop controls></audio> -->
	<audio controls="controls" autoplay="autoplay" id="bgmusic">
		<source src="http://www.w3school.com.cn/i/song.ogg" type="audio/ogg">
		<source src="Let-us-marry.mp3" type="audio/mpeg">
	</audio>
</div>
<script type="text/javascript">
var offsetX = $("#loveHeart").width() / 2;
var offsetY = $("#loveHeart").height() / 2 - 55;
var together = new Date();
together.setFullYear(2017, 11, 5);
together.setHours(15);
together.setMinutes(0);
together.setSeconds(0);
together.setMilliseconds(0);

if (!document.createElement('canvas').getContext) {
	var msg = document.createElement("div");
	msg.id = "errorMsg";
	msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+"; 
	document.body.appendChild(msg);
	$("#code").css("display", "none")
	$("#copyright").css("position", "absolute");
	$("#copyright").css("bottom", "10px");
	document.execCommand("stop");
} else {
	setTimeout(function () {
		startHeartAnimation();
	}, 5000);

	timeElapse(together);
	setInterval(function () {
		timeElapse(together);
	}, 500);

	adjustCodePosition();
	$("#code").typewriter();
}


(function() {
        function log(info) {
            console.log(info);
            // alert(info);
        }
        function forceSafariPlayAudio() {
            audioEl.load(); // iOS 9   è¿˜éœ€è¦é¢å¤–çš„ load ä¸€ä¸‹, å¦åˆ™ç›´æ¥ play æ— æ•ˆ
            audioEl.play(); // iOS 7/8 ä»…éœ€è¦ play ä¸€ä¸‹
        }
        var audioEl = document.getElementById('bgmusic');
        // å¯ä»¥è‡ªåŠ¨æ’­æ”¾æ—¶æ­£ç¡®çš„äº‹ä»¶é¡ºåºæ˜¯
        // loadstart
        // loadedmetadata
        // loadeddata
        // canplay
        // play
        // playing
        // 
        // ä¸èƒ½è‡ªåŠ¨æ’­æ”¾æ—¶è§¦å‘çš„äº‹ä»¶æ˜¯
        // iPhone5  iOS 7.0.6 loadstart
        // iPhone6s iOS 9.1   loadstart -> loadedmetadata -> loadeddata -> canplay
        audioEl.addEventListener('loadstart', function() {
            log('loadstart');
        }, false);
        audioEl.addEventListener('loadeddata', function() {
            log('loadeddata');
        }, false);
        audioEl.addEventListener('loadedmetadata', function() {
            log('loadedmetadata');
        }, false);
        audioEl.addEventListener('canplay', function() {
            log('canplay');
        }, false);
        audioEl.addEventListener('play', function() {
            log('play');
            // å½“ audio èƒ½å¤Ÿæ’­æ”¾å, ç§»é™¤è¿™ä¸ªäº‹ä»¶
            window.removeEventListener('touchstart', forceSafariPlayAudio, false);
        }, false);
        audioEl.addEventListener('playing', function() {
            log('playing');
        }, false);
        audioEl.addEventListener('pause', function() {
            log('pause');
        }, false);
        // ç”±äº iOS Safari é™åˆ¶ä¸å…è®¸ audio autoplay, å¿…é¡»ç”¨æˆ·ä¸»åŠ¨äº¤äº’(ä¾‹å¦‚ click)åæ‰èƒ½æ’­æ”¾ audio,
        // å› æ­¤æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç”¨æˆ·äº¤äº’äº‹ä»¶æ¥ä¸»åŠ¨ play ä¸€ä¸‹ audio.
        window.addEventListener('touchstart', forceSafariPlayAudio, false);
				
        audioEl.src = 'Let-us-marry.mp3';
    })();

</script>
</body>
</html>